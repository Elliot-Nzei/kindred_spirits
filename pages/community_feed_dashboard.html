<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-translate="community_feed_dashboard_title">Community Feed Dashboard - Metanoia</title>
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fkindredsp1403back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.8"></script>
<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
        <style>
        /* Comments Modal Improvements */
        .modal-comments-list {
            max-height: 320px;
            min-height: 120px;
            overflow-y: auto;
            /* For smooth scrolling and better UX */
            scroll-behavior: smooth;
        }
        @media (max-width: 600px) {
            .modal-comments-list {
                max-height: 50vh;
            }
        }
        #comments-modal .modal-content {
            display: flex;
            flex-direction: column;
            max-height: 90vh;
        }
        /* Add mobile bottom padding for main content */
        @media (max-width: 767px) {
            .mobile-bottom-padding {
                padding-bottom: 5.5rem !important;
            }
        }
        .emoji-btn {
            transition: transform 0.2s;
        }
        .emoji-btn:hover {
            transform: scale(1.2);
        }
        /* Mobile menu overlay styles */
        .mobile-menu-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.4);
            z-index: 100;
        }
        .mobile-menu-overlay.active {
            display: flex;
            align-items: flex-end;
        }
        .mobile-menu-sheet {
            background: #fff;
            width: 100%;
            border-top-left-radius: 1.25rem;
            border-top-right-radius: 1.25rem;
            box-shadow: 0 -2px 16px rgba(0,0,0,0.08);
            padding: 2rem 1.5rem 2.5rem 1.5rem;
            animation: slideUp .25s cubic-bezier(.4,0,.2,1);
        }
        @keyframes slideUp {
            from { transform: translateY(100%);}
            to { transform: translateY(0);}
        }
        .mobile-menu-sheet a {
            display: block;
            padding: 1rem 0;
            color: #2D5A3D;
            font-weight: 500;
            border-bottom: 1px solid #F0EDE8;
            text-align: center;
            text-decoration: none;
        }
        .mobile-menu-sheet a:last-child {
            border-bottom: none;
        }
        .mobile-menu-sheet button {
            margin-top: 1.5rem;
            width: 100%;
        }
        .text-red-love {
            color: red;
        }

        /* Comments slide-up styles */
        .comments-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.4);
            z-index: 100;
            justify-content: center; /* default to center for desktop */
            align-items: center; /* default to center for desktop */
        }
        .comments-overlay.active {
            display: flex;
        }

        @media (max-width: 767px) {
            .comments-overlay.active {
                align-items: flex-end;
            }
        }

        .comments-sheet {
            background: #fff;
            border-radius: 1.25rem;
            box-shadow: 0 -2px 16px rgba(0,0,0,0.08);
            padding: 1.5rem;
            max-width: 500px;
            width: 100%;
        }

        @media (max-width: 767px) {
            .comments-sheet {
                width: 100%;
                border-bottom-left-radius: 0;
                border-bottom-right-radius: 0;
                animation: slideUp .25s cubic-bezier(.4,0,.2,1);
                max-height: 80vh;
                display: flex;
                flex-direction: column;
            }
        }

        /* Hide modal by default unless .active */
        #new-post-modal:not(.active) {
            display: none;
        }
    </style>
</head>
<body class="bg-background min-h-screen">
    <!-- Header with Floating Elements -->
    <header class="sticky top-0 z-50 bg-white/95 backdrop-blur-sm border-b border-border-light">
        <div class="max-w-6xl mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <!-- Logo -->
                <a href="community_feed_dashboard.html" class="flex items-center space-x-2">
                    <img src="../img/logo_only.jpg" alt="Metanoia Logo" class="w-8 h-8 rounded-full object-cover">
                    <h1 class="font-crimson text-xl font-semibold text-primary" data-translate="app_name">Metanoia</h1>
                </a>

                <!-- Floating Meditation Timer -->
                <div class="hidden md:flex items-center space-x-4">
                    <button type="button" class="flex items-center space-x-2 bg-primary-50 text-primary px-4 py-2 rounded-full hover:bg-primary-100 transition-all duration-300">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
                        </svg>
                        <span class="text-sm font-medium" data-translate="meditation_time">5 min</span>
                    </button>
                    <button type="button" class="bg-accent text-primary px-4 py-2 rounded-full hover:bg-accent-500 transition-all duration-300 font-medium text-sm" data-translate="quick_practice_btn">
                        Quick Practice
                    </button>
                    <button type="button" id="open-search-modal-desktop" class="flex items-center space-x-2 bg-gray-200 text-text-secondary px-4 py-2 rounded-full hover:bg-gray-300 transition-all duration-300">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"/>
                        </svg>
                        <span class="text-sm font-medium">Search</span>
                    </button>
                </div>

                <!-- Mobile Menu Button (moved here from tab bar) -->
                <!-- Mobile Icons Group -->
                <div class="flex items-center space-x-2 md:hidden">
                    <button type="button" id="open-search-modal-mobile" class="p-2 text-primary" title="Open search" aria-label="Search">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"/>
                        </svg>
                    </button>
                    <button type="button" id="open-notifications-mobile" class="p-2 text-primary relative" title="Notifications" aria-label="Notifications">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M10 2a6 6 0 00-6 6v3.586l-1.707 1.707A1 1 0 003 15h14a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z" />
                        </svg>
                        <span id="mobile-notification-badge" class="absolute top-1 right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 bg-red-600 rounded-full hidden">0</span>
                    </button>
                    <button id="mobile-menu-btn" type="button" class="p-2 text-primary" title="Open menu" aria-label="More options">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <circle cx="5" cy="12" r="2" />
                            <circle cx="12" cy="12" r="2" />
                            <circle cx="19" cy="12" r="2" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="max-w-6xl mx-auto px-4 pt-6 pb-40 md:pb-6 mobile-bottom-padding">
        <!-- Welcome Message -->
        <div class="card bg-gradient-to-r from-primary-50 to-secondary-50 border-none mb-6">
            <div class="flex items-center space-x-3 mb-4">
                <img id="welcome-user-image" src="" alt="User Profile" class="w-12 h-12 rounded-full object-cover" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                <div>
                    <h3 class="font-crimson text-lg font-semibold text-primary" id="welcome-message"></h3>
                    <p class="text-text-secondary text-sm" data-translate="community_tagline">Your spiritual community awaits</p>
                </div>
            </div>
            <p class="text-text-primary font-medium" data-translate="daily_wisdom_quote">"Today, let your heart be your compass and your breath be your anchor."</p>
            <p class="text-text-secondary text-sm mt-2" data-translate="daily_wisdom_author">- Daily wisdom from Vani</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
            <!-- Main Feed -->
            <main id="main-feed-container" class="lg:col-span-3 space-y-6">

                <!-- Community Post -->
                <article class="card card-hover" data-post-id="post1">
                    <div class="flex items-start space-x-3 mb-4">
                        <img src="https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2" alt="Maya's Profile" class="w-10 h-10 rounded-full object-cover" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                        <div class="flex-1">
                            <div class="flex items-center space-x-2">
                                <h4 class="font-medium text-text-primary">Maya Chen</h4>
                                <span class="text-text-secondary text-sm">2h ago</span>
                            </div>
                            <p class="text-text-secondary text-sm" data-translate="sharing_from_heart">Sharing from the heart</p>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <p class="text-text-primary mb-3">Just completed my first week of morning meditation practice and I'm amazed by the shift in my energy. The guided sessions in the Practice Studio have been transformative. Grateful for this beautiful community! 🙏</p>
                        <img src="https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Meditation practice" class="w-full h-64 object-cover rounded-lg" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                    </div>

                    <!-- Interaction Bar -->
                    <div class="flex items-center justify-between pt-3 border-t border-border-light">
                        <div class="flex items-center space-x-4">
                            <button type="button" class="reaction-btn flex items-center space-x-2 text-text-secondary hover:text-primary transition-colors">
                                <span class="reaction-icon">
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"/>
                                </span>
                                <span class="text-sm reaction-count">0</span>
                            </button>
                            <button type="button" class="flex items-center space-x-2 text-text-secondary hover:text-primary transition-colors open-comments-modal-btn" data-post-id="post1">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                </svg>
                                <span class="text-sm comment-count" data-post-id="post1">8</span>
                            </button>
                        </div>
                        <button type="button" class="bookmark-btn text-text-secondary hover:text-accent transition-colors" title="Bookmark">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path class="bookmark-icon-outline" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"/>
                                <path class="bookmark-icon-filled hidden" fill-rule="evenodd" d="M5 4a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 20V4z" clip-rule="evenodd"/>
                            </svg>
                        </button>
                    </div>
                </article>

                <!-- Premium Workshop Preview -->
                <article class="card bg-gradient-to-r from-accent-50 to-accent-100 border-accent-200">
                    <div class="flex items-center space-x-2 mb-3">
                        <svg class="w-5 h-5 text-accent-600" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                        </svg>
                        <span class="text-accent-700 font-medium text-sm" data-translate="sacred_workshop_label">Sacred Workshop</span>
                    </div>
                    
                    <h3 class="font-crimson text-xl font-semibold text-primary mb-2" data-translate="workshop_title">Awakening Your Inner Wisdom</h3>
                    <p class="text-text-primary mb-4" data-translate="workshop_description">Join Vani for a transformative 3-hour journey into the depths of your soul's knowing. Discover ancient practices for modern awakening.</p>
                    
                    <div class="flex items-center justify-between">
                        <div class="text-sm text-text-secondary">
                            <span data-translate="next_session_label">Next session:</span> <span data-translate="next_session_date">Dec 15, 2025</span>
                        </div>
                        <a href="workshop_gateway.html" class="bg-accent text-primary px-4 py-2 rounded-lg hover:bg-accent-500 transition-all duration-300 font-medium text-sm" data-translate="learn_more_btn">
                            Learn More
                        </a>
                    </div>
                </article>

                <!-- Daily Spiritual Prompt -->
                <article class="card bg-gradient-to-r from-secondary-50 to-primary-50 border-secondary-200">
                    <div class="flex items-center space-x-2 mb-3">
                        <svg class="w-5 h-5 text-secondary-600" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                        </svg>
                        <span class="text-secondary-700 font-medium text-sm" data-translate="daily_reflection_label">Daily Reflection</span>
                    </div>
                    
                    <h3 class="font-crimson text-lg font-semibold text-primary mb-2" data-translate="daily_prompt_question">What does your soul need today?</h3>
                    <p class="text-text-secondary text-sm mb-4" data-translate="daily_prompt_description">Take a moment to listen within. Share your insights with the community.</p>
                    
                    <button type="button" class="w-full bg-white text-primary border border-primary-200 py-2 rounded-lg hover:bg-primary-50 transition-all duration-300 font-medium text-sm" data-translate="share_reflection_btn">
                        Share Your Reflection
                    </button>
                </article>

                <!-- Community Member Post -->
                <article class="card card-hover" data-post-id="post2">
                    <div class="flex items-start space-x-3 mb-4">
                        <img src="https://images.pexels.com/photos/1681010/pexels-photo-1681010.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2" alt="Alex's Profile" class="w-10 h-10 rounded-full object-cover" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                        <div class="flex-1">
                            <div class="flex items-center space-x-2">
                                <h4 class="font-medium text-text-primary">Alex Rivera</h4>
                                <span class="text-text-secondary text-sm">4h ago</span>
                            </div>
                            <p class="text-text-secondary text-sm" data-translate="path_of_growth">On the path of growth</p>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <p class="text-text-primary mb-3">The Personal Growth Pathway has been such a gift. Each milestone feels like coming home to myself. Today I realized that healing isn't about fixing what's broken—it's about remembering what was always whole. 💫</p>
                    </div>

                    <!-- Interaction Bar -->
                    <div class="flex items-center justify-between pt-3 border-t border-border-light">
                        <div class="flex items-center space-x-4">
                            <button type="button" class="reaction-btn flex items-center space-x-2 text-text-secondary hover:text-primary transition-colors" data-post-id="post2">
                                <span class="reaction-icon">
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"/>
                                </span>
                                <span class="text-sm reaction-count">0</span>
                            </button>
                            <button class="flex items-center space-x-2 text-text-secondary hover:text-primary transition-colors open-comments-modal-btn" data-post-id="post2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                </svg>
                                <span class="text-sm comment-count" data-post-id="post2">5</span>
                            </button>
                        </div>
                        <button class="bookmark-btn text-text-secondary hover:text-accent transition-colors" title="Bookmark">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path class="bookmark-icon-outline" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"/>
                                <path class="bookmark-icon-filled hidden" fill-rule="evenodd" d="M5 4a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 20V4z" clip-rule="evenodd"/>
                            </svg>
                        </button>
                    </div>
                </article>
            </main>

            <!-- Sidebar -->
            <aside class="lg:col-span-1 space-y-6">
                <!-- Live Session Notifications -->
                <div class="card bg-gradient-to-b from-primary-50 to-white">
                    <div class="flex items-center space-x-2 mb-3">
                        <div class="w-2 h-2 bg-success rounded-full animate-pulse"></div>
                        <h3 class="font-crimson text-lg font-semibold text-primary" data-translate="live_now_heading">Live Now</h3>
                    </div>
                    <p class="text-text-primary font-medium mb-2" data-translate="meditation_circle_title">Evening Meditation Circle</p>
                    <p class="text-text-secondary text-sm mb-3" data-translate="meditation_circle_description">Join 47 souls in guided reflection</p>
                    <button type="button" class="w-full bg-primary text-white py-2 rounded-lg hover:bg-primary-700 transition-all duration-300 font-medium text-sm" data-translate="join_session_btn">
                        Join Session
                    </button>
                </div>

                <!-- Soul Compass Recommendations -->
                <div class="card">
                    <div class="flex items-center space-x-2 mb-4">
                        <svg class="w-5 h-5 text-accent-600" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.293l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13a1 1 0 102 0V9.414l1.293 1.293a1 1 0 001.414-1.414z" clip-rule="evenodd"/>
                        </svg>
                        <h3 class="font-crimson text-lg font-semibold text-primary" data-translate="soul_compass_heading">Soul Compass</h3>
                    </div>
                    
                    <div class="space-y-3">
                        <div class="p-3 bg-accent-50 rounded-lg border border-accent-200">
                            <h4 class="font-medium text-primary text-sm mb-1" data-translate="recommended_for_you">Recommended for You</h4>
                            <p class="text-text-secondary text-xs mb-2" data-translate="recommended_reason">Based on your meditation practice</p>
                            <a href="practice_studio.html" class="text-accent-600 hover:text-accent-700 text-sm font-medium" data-translate="breathwork_fundamentals">Breathwork Fundamentals →</a>
                        </div>
                        
                        <div class="p-3 bg-secondary-50 rounded-lg border border-secondary-200">
                            <h4 class="font-medium text-primary text-sm mb-1" data-translate="continue_journey">Continue Your Journey</h4>
                            <p class="text-text-secondary text-xs mb-2" data-translate="next_step_pathway">Next step in your pathway</p>
                            <a href="personal_growth_pathway.html" class="text-secondary-600 hover:text-secondary-700 text-sm font-medium" data-translate="shadow_work_module">Shadow Work Module →</a>
                        </div>
                    </div>
                </div>

                <!-- Notifications -->
                <div class="card">
                    <h3 class="font-crimson text-lg font-semibold text-primary mb-4" data-translate="notifications_heading">Notifications</h3>
                    <div id="notifications-list" class="space-y-3">
                        <!-- Notifications will be dynamically inserted here -->
                    </div>
                    <button id="view-all-notifications" class="text-primary text-sm mt-2 hover:underline hidden" onclick="window.location.href='notifications.html'" data-translate="view_all_notifications">View all</button>
                </div>

                <!-- Community Milestones -->
                <div class="card">
                    <h3 class="font-crimson text-lg font-semibold text-primary mb-4" data-translate="community_milestones_heading">Community Milestones</h3>
                    
                    <div class="space-y-3">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-success rounded-full flex items-center justify-center">
                                <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <div>
                                <p class="text-text-primary font-medium text-sm" data-translate="meditations_count">1,000 Meditations</p>
                                <p class="text-text-secondary text-xs" data-translate="meditations_period">Completed this month</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-accent rounded-full flex items-center justify-center">
                                <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M10 2a6 6 0 00-6 6v3.586l-1.707 1.707A1 1 0 003 15h14a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"/>
                                </svg>
                            </div>
                            <div>
                                <p class="text-text-primary font-medium text-sm" data-translate="new_souls_count">250 New Souls</p>
                                <p class="text-text-secondary text-xs" data-translate="new_souls_period">Joined this week</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="card">
                    <h3 class="font-crimson text-lg font-semibold text-primary mb-4" data-translate="quick_actions_heading">Quick Actions</h3>
                    
                    <div class="space-y-2">
                        <a href="practice_studio.html" class="flex items-center space-x-3 p-2 rounded-lg hover:bg-primary-50 transition-colors">
                            <svg class="w-5 h-5 text-primary" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-text-primary text-sm" data-translate="start_practice_link">Start Practice</span>
                        </a>
                        
                        <a href="soul_profile.html" class="flex items-center space-x-3 p-2 rounded-lg hover:bg-primary-50 transition-colors">
                            <svg class="w-5 h-5 text-primary" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-text-primary text-sm" data-translate="view_profile_link">View Profile</span>
                        </a>
                        
                        <a href="workshop_gateway.html" class="flex items-center space-x-3 p-2 rounded-lg hover:bg-primary-50 transition-colors">
                            <svg class="w-5 h-5 text-primary" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                            </svg>
                            <span class="text-text-primary text-sm" data-translate="explore_workshops_link">Explore Workshops</span>
                        </a>
                        <button type="button" id="open-new-post-modal-desktop" class="hidden md:flex items-center space-x-3 p-2 rounded-lg bg-accent text-primary hover:bg-accent-500 transition-colors" title="Create new post">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"/>
                        </button>
                    </div>
                </div>

                
            </aside>
        </div>
    </div>

    <!-- Mobile Bottom Navigation -->
    <nav class="md:hidden fixed bottom-0 left-0 right-0 bg-surface border-t border-border-light z-50">
        <div class="flex items-center justify-around py-2">
            <a href="community_feed_dashboard.html" class="flex flex-col items-center p-2 text-primary">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
                </svg>
                <span class="text-xs mt-1" data-translate="nav_feed">Feed</span>
            </a>
            
            <a href="practice_studio.html" class="flex flex-col items-center p-2 text-text-secondary">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"/>
                </svg>
                <span class="text-xs mt-1" data-translate="nav_practice">Practice</span>
            </a>
            
            <a href="workshop_gateway.html" class="flex flex-col items-center p-2 text-text-secondary">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                </svg>
                <span class="text-xs mt-1" data-translate="nav_workshops">Workshops</span>
            </a>
            
            <a href="personal_growth_pathway.html" class="flex flex-col items-center p-2 text-text-secondary">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                </svg>
                <span class="text-xs mt-1" data-translate="nav_growth">Growth</span>
            </a>
            
            <a href="soul_profile.html" class="flex flex-col items-center p-2 text-text-secondary">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                </svg>
                <span class="text-xs mt-1" data-translate="nav_profile">Profile</span>
            </a>
        </div>
    </nav>

    <!-- Comments Modal -->
    <div id="comments-modal" class="comments-overlay">
        <div class="comments-sheet">
            <!-- Modal Header -->
            <div class="flex items-center justify-between pb-4 border-b border-border-light mb-4">
                <h3 class="font-crimson text-xl font-semibold text-primary" data-translate="comments_heading">Comments</h3>
                <button type="button" id="close-comments-modal-1" class="text-text-secondary hover:text-primary transition-colors" title="Close comments modal">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>

            <!-- Comments List -->
            <div 
                id="modal-comments-list" 
                class="space-y-4 mb-4 pr-2 flex-1 modal-comments-list"
            >
                <!-- Dummy Comment 1 -->
                <div class="comment-item p-3 bg-surface rounded-lg border border-border-light">
                    <div class="flex items-center space-x-2 mb-1">
                        <img src="https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2" alt="Maya's Profile" class="w-8 h-8 rounded-full object-cover" />
                        <span class="font-medium text-text-primary text-sm">Maya Chen</span>
                        <span class="text-text-secondary text-xs">3h ago</span>
                    </div>
                    <p class="text-text-primary text-sm">This is so inspiring! Thank you for sharing your journey, Sarah. 🙏</p>
                    <button type="button" class="reply-btn text-primary text-xs mt-2 hover:underline">Reply</button>
                </div>

                <!-- Dummy Reply 1 -->
                <div class="comment-item ml-8 p-3 bg-primary-50 rounded-lg border border-primary-200">
                    <div class="flex items-center space-x-2 mb-1">
                        <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Sarah's Profile" class="w-8 h-8 rounded-full object-cover" />
                        <span class="font-medium text-text-primary text-sm">Sarah Chen</span>
                        <span class="text-text-secondary text-xs">2h ago</span>
                    </div>
                    <p class="text-text-primary text-sm">@MayaChen So glad it resonates with you! Your support means a lot. ✨</p>
                    <button class="reply-btn text-primary text-xs mt-2 hover:underline">Reply</button>
                </div>

                <!-- Dummy Comment 2 -->
                <div class="comment-item p-3 bg-surface rounded-lg border border-border-light">
                    <div class="flex items-center space-x-2 mb-1">
                        <img src="https://images.pexels.com/photos/1681010/pexels-photo-1681010.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2" alt="Alex's Profile" class="w-8 h-8 rounded-full object-cover" />
                        <span class="font-medium text-text-primary text-sm">Alex Rivera</span>
                        <span class="text-text-secondary text-xs">1h ago</span>
                    </div>
                    <p class="text-text-primary text-sm">Beautiful reflection, Sarah! Keep shining your light. 💖</p>
                    <button class="reply-btn text-primary text-xs mt-2 hover:underline">Reply</button>
                </div>
            </div>

            <!-- Comment Input -->
            <div class="pt-4 border-t border-border-light">
                <div class="bg-surface rounded-xl p-4 shadow-sm">
                    <div class="flex items-start space-x-3">
                        <img id="new-comment-user-image" src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Current User's Profile" class="w-10 h-10 rounded-full object-cover border-2 border-white" />
                        <div class="flex-1">
                            <textarea 
                                id="modal-comment-input-1" 
                                rows="3" 
                                class="w-full bg-transparent border-none focus:ring-0 p-0 text-text-primary placeholder-text-secondary resize-none" 
                                placeholder="Share your sacred thoughts..." data-translate="comment_placeholder"></textarea>
                            
                            <div class="flex items-center justify-between mt-2 pt-2 border-t border-border-light">
                                <div class="flex items-center space-x-2 text-text-secondary">
                                    <button class="hover:bg-primary-100 p-2 rounded-full transition-colors" title="Add emoji">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                    </button>
                                    <label for="comment-image-upload" class="cursor-pointer hover:bg-primary-100 p-2 rounded-full transition-colors" title="Attach image">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                                        <input type="file" id="comment-image-upload" accept="image/*" class="hidden">
                                    </label>
                                </div>
                                <button type="button" id="post-modal-comment-btn-1" class="btn-primary px-6 py-2 text-sm font-semibold" data-translate="post_btn">Post</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Menu Overlay (newly added) -->
    <div id="mobile-menu-overlay" class="mobile-menu-overlay">
        <div class="mobile-menu-sheet">
            <a href="settings.html" data-translate="settings_link">Settings</a>
            <a href="help_support.html" data-translate="help_support_link">Help & Support</a>
            <a href="about.html" data-translate="about_link">About</a>
            <button id="close-mobile-menu" class="bg-primary text-white py-2 rounded-lg font-medium" data-translate="close_btn">Close</button>
        </div>
    </div>

    <!-- New Post Modal -->
    <div id="new-post-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center">
        <div class="bg-white rounded-xl max-w-2xl w-full m-4">
            <div class="p-4 border-b border-border-light flex items-center justify-between">
                <h3 class="text-lg font-semibold" data-translate="create_new_post_title">Create New Post</h3>
                <button type="button" id="close-new-post-modal" class="p-2 hover:bg-surface-hover rounded-full" title="Close new post modal">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                    </svg>
                </button>
            </div>
            <div class="p-4">
                <textarea id="new-post-content" rows="6" class="w-full px-3 py-2 bg-background border border-border-light rounded-lg focus:outline-none focus:border-primary" placeholder="Share your sacred thoughts..." data-translate="new_post_placeholder"></textarea>
                <input type="file" id="new-post-image-upload" accept="image/*" class="mt-3 block w-full text-sm text-text-secondary file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary hover:file:bg-primary-100" title="Upload image">
            </div>
            <div class="p-4 border-t border-border-light flex justify-end">
                <button type="button" id="submit-new-post" class="px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors font-medium" data-translate="post_btn">Post</button>
            </div>
        </div>
    </div>

    <script src="../js/config.js"></script>
    <script src="../js/auth.js"></script>
    <script src="../js/feed.js"></script>
    <script src="../js/search.js"></script>
    <script src="../js/mobileMenu.js"></script>
    <script src="../js/translations.js"></script>
    <script src="../js/language.js"></script>
    <script src="../js/notifications.js"></script>

    <!-- Floating Action Button for Mobile (Create New Post) -->
    <button type="button" id="open-new-post-modal-mobile" class="md:hidden fixed bottom-20 right-4 w-14 h-14 bg-primary text-white rounded-full shadow-sacred-strong hover:shadow-contemplative transition-all duration-300 flex items-center justify-center z-50" title="Create new post">
        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"/>
        </svg>
    </button>

    <!-- Search Modal -->
    <div id="search-modal" class="fixed inset-0 z-[101] hidden flex items-center justify-center bg-black/50 backdrop-blur-sm p-4">
        <div class="card bg-white w-full max-w-md mx-auto p-6 rounded-lg shadow-lg max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-6">
                <h3 class="font-crimson text-2xl font-semibold text-primary">Find Souls</h3>
                <button data-close-modal type="button" class="text-gray-400 hover:text-primary" aria-label="Close search modal">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                </button>
            </div>

            <div class="relative mb-4">
                <input type="text" id="user-search-input" placeholder="Search by username or name..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-primary focus:border-primary">
                <button type="button" id="user-search-button" class="absolute inset-y-0 right-0 flex items-center px-4 text-primary hover:text-primary-dark" aria-label="Search users">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                </button>
            </div>
            <div id="user-search-results" class="space-y-3">
                <!-- Search results will be loaded here -->
                <p class="text-text-secondary text-sm text-center" id="no-search-results">Start typing to find users.</p>
            </div>
        </div>
    </div>
</body>
</html>